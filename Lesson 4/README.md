**  Практическая работа 4. Отчёт по выполнению**

В данной практической работе изучен принцип связывания графических элементов с кодом через компонент «viewBinding», передача данных через разные потоки, принцип работы с Service и жизненный цикл сервисов, а также работа с библиотекой «WorkManager».

**  Модуль musicplayer **

Создано две активности (портретной и горизонтальной ориентации): добавлено изображение, название аудиодорожки и три кнопки (пуск, переключение назад и переключение вперёд). В файле «build.gradle» добавлен компонент «viewBinding». В файле «MainActivity» прописана логика связывания графических элементов из файла разметки через binding, а также прописаны обработчики нажатия на кнопки.

![image](https://github.com/user-attachments/assets/7fecef30-ea92-4cce-8592-56d6913b86d2) 

![image](https://github.com/user-attachments/assets/99ceab2a-ce95-4e34-aa20-f18052efd0b0)

![image](https://github.com/user-attachments/assets/798e23b8-629e-4d17-912b-436be57fc1c7) 


**  Модуль Thread **

В файле разметки добавлено два поля для ввода текста, текстовое поле для вывода информации о текущем потоке и кнопка для передачи данных. В файле «MainActivity» был прописан обработчик нажатия на кнопку и реализована логика подсчёта среднего количества пар в день и передачи данных из фонового потока в основной.

![image](https://github.com/user-attachments/assets/eb7aeb4d-5d74-4332-9fb0-a9f01b82b675) ![image](https://github.com/user-attachments/assets/73d33b53-ccb3-4a4c-97e2-0eea0202d97c)

![image](https://github.com/user-attachments/assets/8fd37b0f-77b9-40c6-b362-4dae236ceb9a)

**  Модуль data_thread **

В файле разметки добавлено текстовое поле для вывода информации. В файле «MainActivity» реализована логика поочерёдного запуска процессов «runOnUiThread», «postDelayed», «post» и добавлен вывод очерёдности их запуска.

![image](https://github.com/user-attachments/assets/c16ca632-a9d4-47bf-a9bf-68dfbafa8744)


**  Модуль Looper **

Создан собственный класс MyLooper, который реализует обработку сообщений. В файле разметки activity_main.xml было добавлено два поля для ввода текста (возраст и профессия) и кнопка для передачи данных. В файле MainActivity прописан обработчик нажатия на кнопку и реализована логика создания потока и передачи данных из одного потока в другой. Результат вычислений выведен в Logcat.

![image](https://github.com/user-attachments/assets/eaa5921d-5e0d-42dd-98f5-36a12d0147a1) ![image](https://github.com/user-attachments/assets/d5f67c26-a4e1-4465-9be0-b98b591641b6)

![image](https://github.com/user-attachments/assets/a6c7c23a-e72c-4c40-a7c5-bdfdd54a31aa)


**  Модуль CryptoLoader **

В файле разметки было добавлено поле для ввода текста и кнопка. Создан новый класс CryptoLoader. Реализовано AES-шифрование и дешифрование текста, который вводится пользователем. Реализована логика передачи заашифрованных данных и ключа через Bundle, а также логика дешифровки и возвращения полученных данных обратно в основной поток.

![image](https://github.com/user-attachments/assets/aecb15a9-753e-41b7-a231-11cc94e28b69) ![image](https://github.com/user-attachments/assets/85f772a8-88e6-4dca-b054-f70466dc770f)

![image](https://github.com/user-attachments/assets/5880c89c-9300-4fd1-b708-995389429d63)


**  Модуль ServiceApp **

Для службы плеера был создан новый класс «PlayerService». В файле разметки было выбрано изображение, текстовое поле с названием музыкальной композиции и кнопки плей и пауза. Реализована логика воспроизведения аудиофайла из ресурсов проекта, а также получения уведомления о воспроизведении при нажатии на кнопку плей. Главное было указать использование службы плеера в манифесте модуля, иначе уведомления не работают.

![image](https://github.com/user-attachments/assets/23c4d1b1-ad68-4656-8f7f-58433fd8444e) ![image](https://github.com/user-attachments/assets/73679dfc-3c8a-49cd-878c-23218348d6ea)

**  Модуль WorkManager **

В файле «build.gradle» добавлена зависимость WorkManager. Создан собственный класс «UploadWorker», который имитирует длительную фоновую операцию и логирование начала и окончани работы. В файле MainActivity реализована логика запуска задачи через определённые условия (наличие сети и зарядка устройства).

![image](https://github.com/user-attachments/assets/61a9c2cf-0b3c-4e78-af78-8ed23d14a85a)


** Контрольное задание BackgroundTaskFragment в MireaProject **

Был создан новый фрагмент BackgroundTaskFragment для запуска фоновой задачи с помощью компонента WorkManager. Создан собственный класс BackgroundWorker, который реализует логику выполнения фоновой задачи с проверкой определённых условий. В файл разметки добавлена кнопка для запуска задачи, а также текстовое поле для отображения состояния задачи (Waiting, Running, Successed).

![image](https://github.com/user-attachments/assets/e79da324-a305-4d50-b352-cb99a2819e63) ![image](https://github.com/user-attachments/assets/37a0033f-b295-477c-ab9c-eeb87cc6e9cc) ![image](https://github.com/user-attachments/assets/473766e1-9625-47b0-9053-91d5a2be7cd5)


** Вывод **

В ходе выполнения практической работы изучены принципы связывания графических элементов с кодом через компонент «viewBinding», передача данных через разные потоки, принцип работы с Service и жизненный цикл сервисов, а также работа с библиотекой «WorkManager». Выполнено контрольное задание в MireaProject. Работа выполнена в полном объёме.

Выполнила Жемайтис Валерия
Группа БСБО-09-22
